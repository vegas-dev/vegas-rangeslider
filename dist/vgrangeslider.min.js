// @vegas-VGRangeSlider v1.0.0
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,(function(e){"use strict";function t(){const e=this,t=e=>e&&"object"==typeof e;for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return n.reduce(((s,n)=>(Object.keys(n).forEach((r=>{const l=s[r],i=n[r];Array.isArray(l)&&Array.isArray(i)?s[r]=l.concat(...i):t(l)&&t(i)?s[r]=e.merge(l,i):s[r]=i})),s)),{})}function s(e,t){let s,n,r=arguments,l=r.length;for(;l>1&&e.length;)for(s=r[--l];-1!==(n=e.indexOf(s));)e.splice(n,1);return e}const n={type:"single",skin:"flat",min:0,max:0,from:0,to:0,step:1,postfix:"",grid:!1};class r{constructor(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){if(!(e=document.querySelector(e)))return!1}else if(!e)return!1;"INPUT"!==e.tagName&&console.error("Основным элементов должен быть тэг INPUT"),this.settings=function(e,s,n){return t(s,n,function(e){let t={};return[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){let s=e.name.substr(5).replace(/-(.)/g,(function(e,t){return t.toUpperCase()}));t[s]=e.value}})),t}(e))}(e,n,s),this.element=e,this.id="vg-rs-"+Math.round(100*Math.random()),this.classes={container:"vg-rs",wrapper:"vg-rs-wrapper",line:"vg-rs-line",min:"vg-rs-min",max:"vg-rs-max",from:"vg-rs-from",to:"vg-rs-to",single:"vg-rs-single",bar:"vg-rs-bar",handle:"vg-rs-handle",grid:"vg-rs-grid",skin:{flat:"vg-rs-skin-flat",round:"vg-rs-skin-round"}},this.init()}init(){const e=this;if(r.build(e),e.setData(),"single"===e.settings.type){let t=document.getElementById(e.id),s=t.clientWidth,n=t.querySelector("."+e.classes.handle);n.onpointerdown=function(r){n.setPointerCapture(r.pointerId),n.onpointermove=function(n){let r=100*(n.clientX-t.getBoundingClientRect().left)/s;e.setData({from:r})},n.onpointerup=function(e){n.onpointermove=null,n.onpointerup=null}}}}setData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=this;e=t(s.settings,e);let n=document.getElementById(s.id);for(let t in e)if("object"!=typeof t&&("min"!==t&&"max"!==t||(n.querySelector(".vg-rs-"+t).innerHTML=parseFloat(e[t])),"type"===t&&"single"===e[t])){let t=s.setPostion("single",e);n.querySelector(".vg-rs-single").style.left=t+"%",n.querySelector(".vg-rs-single").style.transform="translateX(-"+t+"%)",n.querySelector(".vg-rs-single").innerHTML=Math.round(t),n.querySelector(".vg-rs-bar").style.left=0,n.querySelector(".vg-rs-bar").style.width=t+"%",n.querySelector(".vg-rs-handle").style.left=t+"%",n.querySelector(".vg-rs-handle").style.transform="translateX(-"+t+"%)"}}static build(e){let t=document.createElement("span");switch(t.classList.add(e.classes.container),t.id=e.id,e.settings.skin){case"flat":t.classList.add(e.classes.skin.flat);break;case"round":t.classList.add(e.classes.skin.round)}!function(t){let n=document.createElement("span");n.classList.add(e.classes.wrapper),function(t){let n=[e.classes.line,e.classes.to,e.classes.from,e.classes.min,e.classes.max];if("single"===e.settings.type){let r=document.createElement("span");r.classList.add(e.classes.single),t.prepend(r),s(n,e.classes.from),s(n,e.classes.to)}n.length&&n.forEach((e=>{let s=document.createElement("span");s.classList.add(e),t.prepend(s)}))}(n),t.appendChild(n)}(t),function(t){let s=document.createElement("span");s.classList.add(e.classes.bar),t.appendChild(s)}(t),function(t){let s=document.createElement("span");s.classList.add(e.classes.handle),t.appendChild(s)}(t),e.element.before(t)}setPostion(e,t){if("single"===e){let e=Number(t.max),s=Number(t.min),n=Number(t.from);return n<=s&&(n=s),n>=e&&(n=e),n/100*e}return 0}}e.VGRangeSlider=r}));
