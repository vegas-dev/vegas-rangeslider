// @vegas-VGRangeSlider v1.0.0
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,(function(e){"use strict";function t(){const e=this,t=e=>e&&"object"==typeof e;for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return n.reduce(((s,n)=>(Object.keys(n).forEach((i=>{const r=s[i],o=n[i];Array.isArray(r)&&Array.isArray(o)?s[i]=r.concat(...o):t(r)&&t(o)?s[i]=e.merge(r,o):s[i]=o})),s)),{})}function s(e,t){let s,n,i=arguments,r=i.length;for(;r>1&&e.length;)for(s=i[--r];-1!==(n=e.indexOf(s));)e.splice(n,1);return e}const n={type:"single",skin:"flat",min:0,max:0,from:0,to:0,step:1,postfix:"",grid:!1};class i{constructor(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){if(!(e=document.querySelector(e)))return!1}else if(!e)return!1;"INPUT"!==e.tagName&&console.error("Основным элементов должен быть тэг INPUT"),this.settings=function(e,s,n){return t(s,n,function(e){let t={};return[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){let s=e.name.substr(5).replace(/-(.)/g,(function(e,t){return t.toUpperCase()}));t[s]=e.value}})),t}(e))}(e,n,s),this.element=e,this.id="vg-rs-"+Math.round(100*Math.random()),this.classes={container:"vg-rs",wrapper:"vg-rs-wrapper",line:"vg-rs-line",min:"vg-rs-min",max:"vg-rs-max",from:"vg-rs-from",to:"vg-rs-to",single:"vg-rs-single",grid:"vg-rs-grid",skin:{flat:"vg-rs-skin-flat",round:"vg-rs-skin-round"}},this.init()}init(){i.build(this),this.setData()}setData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=t(this.settings,e);let s=document.getElementById(this.id);for(let t in e)"object"!=typeof t&&("min"!==t&&"max"!==t&&"from"!==t&&"to"!==t||(s.querySelector(".vg-rs-"+t).innerHTML=parseFloat(e[t])),"from"===t&&(s.querySelector(".vg-rs-from").style.visibility="hidden"),"to"===t&&(s.querySelector(".vg-rs-to").style.visibility="hidden"))}static build(e){let t=document.createElement("span");switch(t.classList.add(e.classes.container),t.id=e.id,e.settings.skin){case"flat":t.classList.add(e.classes.skin.flat);break;case"round":t.classList.add(e.classes.skin.round)}!function(t){let n=document.createElement("span");n.classList.add(e.classes.wrapper),function(t){let n=[e.classes.line,e.classes.to,e.classes.from,e.classes.min,e.classes.max];if("single"===e.settings.type){let i=document.createElement("span");i.classList.add(e.classes.single),i.innerHTML=e.settings.from;let r=e.setPostion("single");i.style.left=r+"%",t.prepend(i),s(n,e.classes.from),s(n,e.classes.to)}n.length&&n.forEach((e=>{let s=document.createElement("span");s.classList.add(e),t.prepend(s)}))}(n),t.appendChild(n)}(t),e.element.before(t)}setPostion(e){const t=this;if("single"===e){let e=Number(t.settings.max),s=Number(t.settings.min),n=Number(t.settings.from);return n<=s&&(n=s),n>=e&&(n=e),n/100*e}return 0}}e.VGRangeSlider=i}));
